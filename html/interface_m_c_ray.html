<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>MCT-MCGame: MCRay类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Icon-72@2x.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MCT-MCGame
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">ipad上的魔方学习软件</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>首页</span></a></li>
      <li><a href="pages.html"><span>相关页面</span></a></li>
      <li><a href="namespaces.html"><span>命名空间</span></a></li>
      <li class="current"><a href="annotated.html"><span>类</span></a></li>
      <li><a href="files.html"><span>文件</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="搜索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>类列表</span></a></li>
      <li><a href="classes.html"><span>类索引</span></a></li>
      <li><a href="hierarchy.html"><span>类继承关系</span></a></li>
      <li><a href="functions.html"><span>类成员</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('interface_m_c_ray.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全部</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>类</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>命名空间</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>文件</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>函数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>变量</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>类型定义</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>枚举</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>枚举值</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>属性</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>宏定义</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>页</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#properties">属性</a> &#124;
<a href="class_m_c_ray-members.html">所有成员列表</a>  </div>
  <div class="headertitle">
<div class="title">MCRay类 参考</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;<a class="el" href="_m_c_ray_8h_source.html">MCRay.h</a>&gt;</code></p>
<div class="dynheader">
类 MCRay 继承关系图:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_m_c_ray.png" usemap="#MCRay_map" alt=""/>
  <map id="MCRay_map" name="MCRay_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:a341efdcff3c5a209fdde3243cbde9d63"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_c_ray.html#a341efdcff3c5a209fdde3243cbde9d63">updateWithScreenX:screenY:</a></td></tr>
<tr class="separator:a341efdcff3c5a209fdde3243cbde9d63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae88d7e461887d228a05dedb071e6399d"><td class="memItemLeft" align="right" valign="top">(GLfloat)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_c_ray.html#ae88d7e461887d228a05dedb071e6399d">intersectWithTriangleMadeUpOfV0:V1:V2:</a></td></tr>
<tr class="separator:ae88d7e461887d228a05dedb071e6399d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6994e36f265d223831229702a03ad26f"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="_vector_8hpp.html#a0899f2d9ab745b4ac7625cbfda9bdaab">vec3</a>)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_c_ray.html#a6994e36f265d223831229702a03ad26f">pointIntersectWithTriangleMadeUpOfV0:V1:V2:</a></td></tr>
<tr class="separator:a6994e36f265d223831229702a03ad26f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac438c8aa1f5eef0a444bc35fe9e7ea4e"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_c_ray.html#ac438c8aa1f5eef0a444bc35fe9e7ea4e">transformWithMatrix:</a></td></tr>
<tr class="separator:ac438c8aa1f5eef0a444bc35fe9e7ea4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
属性</h2></td></tr>
<tr class="memitem:aac9366dd5eaec87e514df96f83ba3603"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_vector_8hpp.html#a0899f2d9ab745b4ac7625cbfda9bdaab">vec3</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_c_ray.html#aac9366dd5eaec87e514df96f83ba3603">vOrigin</a></td></tr>
<tr class="separator:aac9366dd5eaec87e514df96f83ba3603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4965b60ccbf96a3f53b16bf34ef75d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_vector_8hpp.html#a0899f2d9ab745b4ac7625cbfda9bdaab">vec3</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_c_ray.html#ab4965b60ccbf96a3f53b16bf34ef75d6">vDirection</a></td></tr>
<tr class="separator:ab4965b60ccbf96a3f53b16bf34ef75d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>射线类 </p>

<p>在文件 <a class="el" href="_m_c_ray_8h_source.html">MCRay.h</a> 第 <a class="el" href="_m_c_ray_8h_source.html#l00016">16</a> 行定义.</p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="ae88d7e461887d228a05dedb071e6399d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (GLfloat) intersectWithTriangleMadeUpOfV0: </td>
          <td></td>
          <td class="paramtype">(float *)&#160;</td>
          <td class="paramname"><em>V0</em></td>
        </tr>
        <tr>
          <td class="paramkey">V1:</td>
          <td></td>
          <td class="paramtype">(float *)&#160;</td>
          <td class="paramname"><em>V1</em></td>
        </tr>
        <tr>
          <td class="paramkey">V2:</td>
          <td></td>
          <td class="paramtype">(float *)&#160;</td>
          <td class="paramname"><em>V2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Once the ray is transfor into the model coordinate, by this function you can check if the triangle intersect with the ray. You should give three vertexs of the triangle. If intersection occurs, it will return the distance between intersected point and the clicked point. If no, return -1.</p>
<p>所给的V1,V2,V3三个顶点构成一个三角形。该函数用于在将射线转换成模型坐标时，检查射线是否与三角形相交。</p>
<dl class="section return"><dt>返回</dt><dd>如果不相交，返回-1。否则，返回交点和点击点间的距离。 </dd></dl>

<p>在文件 <a class="el" href="_m_c_ray_8mm_source.html">MCRay.mm</a> 第 <a class="el" href="_m_c_ray_8mm_source.html#l00047">47</a> 行定义.</p>

<p>参考 <a class="el" href="_m_c_ray_8h_source.html#l00024">vDirection</a>, <a class="el" href="_m_c_ray_8h_source.html#l00020">vOrigin</a>, <a class="el" href="_vector_8hpp_source.html#l00257">Vector3&lt; T &gt;::x</a>, <a class="el" href="_vector_8hpp_source.html#l00258">Vector3&lt; T &gt;::y</a> , 以及 <a class="el" href="_vector_8hpp_source.html#l00259">Vector3&lt; T &gt;::z</a>.</p>

<p>参考自 <a class="el" href="_m_c_magic_cube_u_i_model_controller_8m_source.html#l00707">MCMagicCubeUIModelController::handleTouches</a> , 以及 <a class="el" href="_m_c_magic_cube_u_i_model_controller_8m_source.html#l02216">MCMagicCubeUIModelController::isSelectOneFace:</a>.</p>

</div>
</div>
<a class="anchor" id="a6994e36f265d223831229702a03ad26f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="_vector_8hpp.html#a0899f2d9ab745b4ac7625cbfda9bdaab">vec3</a>) pointIntersectWithTriangleMadeUpOfV0: </td>
          <td></td>
          <td class="paramtype">(float *)&#160;</td>
          <td class="paramname"><em>V0</em></td>
        </tr>
        <tr>
          <td class="paramkey">V1:</td>
          <td></td>
          <td class="paramtype">(float *)&#160;</td>
          <td class="paramname"><em>V1</em></td>
        </tr>
        <tr>
          <td class="paramkey">V2:</td>
          <td></td>
          <td class="paramtype">(float *)&#160;</td>
          <td class="paramname"><em>V2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>return the intetatived point</p>
<p>所给的V1,V2,V3三个顶点构成一个三角形。该函数用于在将射线转换成模型坐标时，检查射线是否与三角形相交。</p>
<dl class="section return"><dt>返回</dt><dd>如果不相交，返回VOrigin即射线原点；否则返回射线与三角形的交点 </dd></dl>

<p>在文件 <a class="el" href="_m_c_ray_8mm_source.html">MCRay.mm</a> 第 <a class="el" href="_m_c_ray_8mm_source.html#l00120">120</a> 行定义.</p>

<p>参考 <a class="el" href="_m_c_ray_8h_source.html#l00024">vDirection</a>, <a class="el" href="_m_c_ray_8h_source.html#l00020">vOrigin</a>, <a class="el" href="_vector_8hpp_source.html#l00257">Vector3&lt; T &gt;::x</a>, <a class="el" href="_vector_8hpp_source.html#l00258">Vector3&lt; T &gt;::y</a> , 以及 <a class="el" href="_vector_8hpp_source.html#l00259">Vector3&lt; T &gt;::z</a>.</p>

<p>参考自 <a class="el" href="_m_c_magic_cube_u_i_model_controller_8m_source.html#l00707">MCMagicCubeUIModelController::handleTouches</a> , 以及 <a class="el" href="_m_c_magic_cube_u_i_model_controller_8m_source.html#l02216">MCMagicCubeUIModelController::isSelectOneFace:</a>.</p>

</div>
</div>
<a class="anchor" id="ac438c8aa1f5eef0a444bc35fe9e7ea4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) transformWithMatrix: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_matrix_8hpp.html#afd462f2e1c09511c893ec3ec3e0fc6d9">mat4</a>)&#160;</td>
          <td class="paramname"><em>matrix</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>You can transform the ray from world coordinate into model world coordinate by use the inverse of the current modelview. If you want to check intersection many times, don't forget that before what is transformed should be the copy object.</p>
<p>利用当前模型矩阵把射线从world坐标系转换成在模型坐标系下的形式。修改了vOrigin和vDirection。 注意：如果要多次检查交点，不要忘记在变换之前使用被变换矩阵的一个副本。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">matrix</td><td>当前模型矩阵的逆 </td></tr>
  </table>
  </dd>
</dl>

<p>在文件 <a class="el" href="_m_c_ray_8mm_source.html">MCRay.mm</a> 第 <a class="el" href="_m_c_ray_8mm_source.html#l00191">191</a> 行定义.</p>

<p>参考 <a class="el" href="_vector_8hpp_source.html#l00127">Vector3&lt; T &gt;::Normalize()</a>, <a class="el" href="_matrix_8hpp_source.html#l00149">Matrix4&lt; T &gt;::transform()</a>, <a class="el" href="_m_c_ray_8h_source.html#l00024">vDirection</a> , 以及 <a class="el" href="_m_c_ray_8h_source.html#l00020">vOrigin</a>.</p>

</div>
</div>
<a class="anchor" id="a341efdcff3c5a209fdde3243cbde9d63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) updateWithScreenX: </td>
          <td></td>
          <td class="paramtype">(float)&#160;</td>
          <td class="paramname"><em>screenX</em></td>
        </tr>
        <tr>
          <td class="paramkey">screenY:</td>
          <td></td>
          <td class="paramtype">(float)&#160;</td>
          <td class="paramname"><em>screenY</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Once create the ray, this function is used for updating self by the screen coordinate. What it gets is the ray in the world coordinate.</p>
<p>通过屏幕坐标更新vDirection,让vDirection为screen坐标到world坐标的矢量。 </p>

<p>在文件 <a class="el" href="_m_c_ray_8mm_source.html">MCRay.mm</a> 第 <a class="el" href="_m_c_ray_8mm_source.html#l00018">18</a> 行定义.</p>

<p>参考 <a class="el" href="_vector_8hpp_source.html#l00127">Vector3&lt; T &gt;::Normalize()</a>, <a class="el" href="_vector_8hpp_source.html#l00134">Vector3&lt; T &gt;::set()</a>, <a class="el" href="_m_c_g_l_8mm_source.html#l00032">MCGL::unProjectfWithScreenX:screenY:depthZ:returnObject:</a>, <a class="el" href="_m_c_ray_8h_source.html#l00024">vDirection</a> , 以及 <a class="el" href="_m_c_ray_8h_source.html#l00020">vOrigin</a>.</p>

<p>参考自 <a class="el" href="_m_c_magic_cube_u_i_model_controller_8m_source.html#l00707">MCMagicCubeUIModelController::handleTouches</a> , 以及 <a class="el" href="_m_c_magic_cube_u_i_model_controller_8m_source.html#l02216">MCMagicCubeUIModelController::isSelectOneFace:</a>.</p>

</div>
</div>
<h2 class="groupheader">属性说明</h2>
<a class="anchor" id="ab4965b60ccbf96a3f53b16bf34ef75d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="_vector_8hpp.html#a0899f2d9ab745b4ac7625cbfda9bdaab">vec3</a>) vDirection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">atomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>射线方向 </p>

<p>在文件 <a class="el" href="_m_c_ray_8h_source.html">MCRay.h</a> 第 <a class="el" href="_m_c_ray_8h_source.html#l00024">24</a> 行定义.</p>

<p>参考自 <a class="el" href="_m_c_ray_8mm_source.html#l00047">intersectWithTriangleMadeUpOfV0:V1:V2:</a>, <a class="el" href="_m_c_ray_8mm_source.html#l00120">pointIntersectWithTriangleMadeUpOfV0:V1:V2:</a>, <a class="el" href="_m_c_ray_8mm_source.html#l00191">transformWithMatrix:</a> , 以及 <a class="el" href="_m_c_ray_8mm_source.html#l00018">updateWithScreenX:screenY:</a>.</p>

</div>
</div>
<a class="anchor" id="aac9366dd5eaec87e514df96f83ba3603"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="_vector_8hpp.html#a0899f2d9ab745b4ac7625cbfda9bdaab">vec3</a>) vOrigin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">atomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>射线原点（一个三维坐标） </p>

<p>在文件 <a class="el" href="_m_c_ray_8h_source.html">MCRay.h</a> 第 <a class="el" href="_m_c_ray_8h_source.html#l00020">20</a> 行定义.</p>

<p>参考自 <a class="el" href="_m_c_ray_8mm_source.html#l00047">intersectWithTriangleMadeUpOfV0:V1:V2:</a>, <a class="el" href="_m_c_ray_8mm_source.html#l00120">pointIntersectWithTriangleMadeUpOfV0:V1:V2:</a>, <a class="el" href="_m_c_ray_8mm_source.html#l00191">transformWithMatrix:</a> , 以及 <a class="el" href="_m_c_ray_8mm_source.html#l00018">updateWithScreenX:screenY:</a>.</p>

</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>MCT-MCGame/Classes/<a class="el" href="_m_c_ray_8h_source.html">MCRay.h</a></li>
<li>MCT-MCGame/Classes/<a class="el" href="_m_c_ray_8mm_source.html">MCRay.mm</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="interface_m_c_ray.html">MCRay</a></li>
    <li class="footer">生成于 2014年 二月 6日 星期四 18:27:39 , 为 MCT-MCGame使用 
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
